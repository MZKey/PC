# **Опции компилятора g++**

### Стандарты c++

* -std=c++98 - C++98
* -std=c++11 - C++11
* -std=c++14 - C++14 
* -std=c++17 - C++17 
* -std=c++2a - C++20

### Предупреждения

* **-Wall** - Выводит большинство предупреждений
* **-Wfloat-equal** - Предупреждает о не безопасном сравнении
* **-Wsign-conversion** или **-Wsign-promo** - Предупреждения преобразования signed в unsigned (и обратно)
* **-Warray-bounds** - Доступ за пределы массива
* **-Wold-style-cast** - Выводит C Style преобразования типов
* **-Wdiv-by-zero** - Предупреждать о делении на 0
* **-Wdouble-promotion** - Предупреждает о преобразовании с float на double
* **-Wbool-compire** - Предупреждение о сравнении int с bool

### Оптимизации
* `-O0` - Не оптимизировать.
* `-O1` или `-O` - Самые простые оптимизации.
* `-O2` - Практически все возможные оптимизации.
* `-O3` - Все доступные компилятору способы оптимизации. Возможно замедление программы из-за увеличения размера исполняемого файла. 
* `-Os` - Оптимизировать размер.
* `-Og` - Оптимизация процесса отладки.

### Сборка

Для сборки программы необходимо указать компилятору g++ файлы исходного кода, например команда g++ main.cpp скомпилирует исходный код файла main.cpp в исполняемый файл a.exe (если компилятору не указать имя выходного файла то по умолчанию именем будет a.exe)

* `-o <name>` - Имя выходного файла

    **Пример**: Команда g++ -o myexe main.cpp скомпилирует файл main.cpp в исполняемый файл myexe.

    Можно передавать несколько исходных файлов для сборки, например `g++ -o myexe file1.cpp file2.cpp`.

* `-c` - Создание объектного файла

    **Пример**: Для создания объектного файла необходимо указать компилятору ключи `-c` и `-o`: `g++ -c -o main.o main.cpp`, данной командой компилятор g++ создает объектный файл main.o из файла main.cpp.

    Для сборки программы из объектных файлов необходимо указать компилятору в качестве входных параметров не файлы исходного кода а объектные файлы: `g++ -o myexe foo.o main.o bar.o` - создает программу из объектных файлов foo.o main.o bar.o

* `-I<include_path>` - Указание каталога для поиска подключаемых файлов

    **Пример**: `g++ -o myexe -I/my/path/to/include main.cpp`

* `-L<library_path>` - Указание каталога для поиска библиотек

* `-l<library>` - Указание конкретной библиотеки для линковки

### Другие опции

* `-g` - Поместить в объектный или исполняемый файл отладочную информацию для отладчика **gdb**. Опция должна быть указана и для компиляции, и для компоновки. В сочетании `–g` рекомендуется использовать опцию отключения оптимизации `–O0`.
* `-pg` - Поместить в объектный или исполняемый файл инструкции профилирования для генерации информации, используемой утилитой **gprof**. Опция должна быть указана и для компиляции, и для компоновки. Собранная с опцией `-pg` программа при запуске генерирует файл статистики. 
Программа **gprof** на основе этого файла создает расшифровку, указывающую время, потраченное на выполнение каждой функции.

## Источники
1. https://wiki.gentoo.org/wiki/GCC_optimization/ru
2. https://studref.com/524592/informatika/urovni_optimizatsii_kompilyatora
3. https://ru.stackoverflow.com/questions/859500/%D0%9A%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%82%D0%BE%D1%80-g-%D1%84%D0%BB%D0%B0%D0%B3%D0%B8-%D0%BE%D0%BF%D1%82%D0%B8%D0%BC%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F-%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B0
4. https://parallel.uran.ru/book/export/html/15